

# ubuntu命令学习

###  1.快捷键：

| **快捷键**           | **含义**                   |
| -------------------- | -------------------------- |
| ctrl+alt+T           | 打开新的终端               |
| shift+ctrl+T         | 在当前终端同级打开新的终端 |
| ctrl + L             | 清除屏幕                   |
| **ctrl  + R + 文本** | **在输入历史中搜索**       |
| ctrl + A             | 移动到行首                 |
| ctrl  + E            | 移动到行末                 |
| ctrl  + C            | 终止当前任务               |
| **~**                | 表示用户目录路径           |

### 2.复制粘贴

| 快捷键       | 含义 |
| ------------ | ---- |
| ctrl+shift+v | 粘贴 |
| ctrl+shift+c | 复制 |

### 3.命令

| 命令              | 对应英文             | 含义                                     |
| ----------------- | -------------------- | ---------------------------------------- |
| `ls`              | list                 | 查看当前文件夹下的内容                   |
| `pwd`             | print wrok directory | 查看当前所在路径                         |
| `cd [+目录名]`    | change directory     | 切换文件夹                               |
| `touch [+文件名]` | touch                | 如果文件不存在，在当前目录下新建一个文件 |
| `vim [+文件名]`   | Vi IMproved          | 以vim方式打开文件                        |
| `cat [+文件名]`   | concatenate          | 查看文件内容                             |
| `mkdir [+目录名]` | make directory       | 在当前目录下创建一个文件夹(创建目录)     |
| `rm [+文件名]`    | remove               | 删除制指的文件名                         |
| `clear`           | clear                | 清屏                                     |

#### #about vim

<https://wenku.baidu.com/view/935132a601d276a20029bd64783e0912a2167cd8.html?_wkts_=1672563931836> 学习路径

| 命令            | 含义                        |
| --------------- | --------------------------- |
| `vim [+文件名]` | 以vim方式打开文件           |
| `i`             | 插入模式(Insert Mode)       |
| `Esc `          | 进入命令模式 (Command Mode) |
| `:q`            | 退出                        |
| `:wq `          | 保存并退出                  |
| `:q! `          | 强行退出                    |
| `cat[文件名] `  | 查看文本内容                |

**ps**:可修改 vim 配置文件 vimrc。

ananananand!

vim 还有很多用法呢(虽然很反人类)

为一视同仁，今天就打算重新学这个vim

##### 1.模式

- 「命令模式」：可以进行删除、复制、粘贴等快捷操作。
- 「编辑模式」：可以编辑文件内容。
- 「末行模式」：可以通过命令操作文件，比如搜索、保存、退出等。

##### 2.三种打开方式

* `vim 文件`
* `vim +num 文件` (打开文件，光标停在第num行)

```
lyk@LYKdiandong:~/lbwnb/CLionProjects/opencvtry$ vim +4 test.cpp 
```

* `vim +/关键字 文件`(光标停在第一个关键字对应行)

```
lyk@LYKdiandong:~/lbwnb/CLionProjects/opencvtry$ vim +/std test.cpp 
```

##### 3.命令模式

###### 3.1光标移动(太多了记了几个可能用得到的)

| 指令 | 作用             |
| ---- | ---------------- |
| gg   | 移动到文件第一行 |
| G    | 移动到最后一行   |
| nG   | 移动到第n行      |

###### 3.2搜索替换

| 指令                   | 作用                          |
| ---------------------- | ----------------------------- |
| **/string \<enter\>**  | **向下搜索string**            |
| n                      | 继续向下                      |
| **:%s/word1/word2/gc** | **替换word1为world2(巨好用)** |

###### 3.3复制粘贴删除

| 指令              | 作用               |
| ----------------- | ------------------ |
| x                 | 删除光标后一个字符 |
| u                 | 撤回操作           |
| Ctrl+r            | 撤回刚刚的撤回     |
| p                 | 粘贴到下一行       |
| shift+ctrl+insert | 网页粘贴           |
| yy                | 复制一行           |
| dd                | 剪切一行           |
| nyy(dd)           | 复制(剪切)n行      |
| num  ↓            | 向下num行          |

###### 3.4末行模式

输入`:`进入末行模式

| 指令      | 作用                     |
| --------- | ------------------------ |
| :w        | 保存                     |
| :q        | 退出                     |
| :w [文件] | 另存为(内容保存至  )     |
| :r [文件] | 输入文件内容至光标下一行 |

###### 3.5: 注意 发现交换文件 “*.swp”

产生原因

用vim命令打开一个文件时，会默认产生一个xx.xx.swap文件，用于保存数据。
 编辑脚本文件，<u>非正常手段关闭文件后</u>，xx.xx.swap文件未被删除。再打开文件时显示错误

#### #about  cd (change directory)

> 大小写敏感

| `cd `     | 切换到当前用户的主目录(/home/用户目录) |
| --------- | -------------------------------------- |
| `cd ~`    | 切换到当前用户的主目录(/home/用户目录) |
| `cd ../ ` | 切换到上一级目录或`cd .. `             |
| `cd - `   | 切换到上次访问的目录                   |

***big point***

>**相对路径** 在输入路径时，最前面不是 / 或者 ~，表示相对 **当前目录** 所在的目录位置
> **绝对路径** 在输入路径时，最前面是 / 或者 ~，表示从 **根目录/home目录** 开始的具体目录位置

#### #about ls

> 以 \. 开头的文件为隐藏文件 需要-a操作才能显示

| 命令           | 含义                                                         |
| -------------- | ------------------------------------------------------------ |
| `ls `          | 查看当前目录下的所有目录和文件                               |
| ` ls -a`       | 查看当前目录下的所有目录和文件（包括隐藏的文件）             |
| ` ls -l 或 ll` | 列表查看当前目录下的所有目录和文件（以列表形式显示文件的详细信息） |
| `ls -h -l`     | 配合 -l 以人性化的方式显示文件大小                           |
| `ls /dir `     | 查看指定目录下的所有目录和文件 如：ls /usr                   |

#### #about mkdir

| 命令               | 含义                                                         |
| ------------------ | ------------------------------------------------------------ |
| `mkdir aaa `       | 在当前目录下创建一个名为aaa的目录                            |
| `mkdir /usr/aaa `  | 在指定目录下创建一个名为aaa的目录                            |
| `mkdir -p aa/bb/c` | 使用-p参数，可以**递归创建目录**（将路径的层次目录全部创建） |

#### #about rm

> rm 删除后无法恢复！小心使用

| 选项 | 含义                                             | 语法：                  |
| ---- | ------------------------------------------------ | ----------------------- |
| `-f` | 强制删除，忽略不存在的文件，无需提示             | $ rm -f 文件位置/文件名 |
| `-r` | 递归地删除目录下的内容，删除文件夹时必须加此参数 | $ rm -r 文件位置/文件名 |

> 注意：`rm`不仅可以删除目录，也可以删除其他文件或压缩包，为了方便大家的记忆，无论删除任何目录或文件，都直接使用 `rm -rf 目录/文件/压缩包` `r:`递归删除 `f:`强制删除

| 命令         | 含义                                         |
| ------------ | -------------------------------------------- |
| `rm 文件`    | 删除当前目录下的文件                         |
| `rm -f 文件` | 强制删除，删除当前目录的的文件（无提示信息） |
| `rmdir`      | 只能删除空目录                               |

#### #about 目录修改

| 命令                 | 对应英文 | 作用                                 |
| -------------------- | -------- | ------------------------------------ |
| `tree [+目录名]`     | tree     | 以树状图列出文件目录结构             |
| `cp 源文件 目标文件` | copy     | 复制文件或者目录                     |
| `mv 源文件 目标文件` | move     | 移动文件或者目录／文件或者目录重命名 |

##### 1.tree

tree 真的很美

##### 2.mv

细讲一下 `mv`

| 选项 | 含义           | 语法：                                                       |
| ---- | -------------- | ------------------------------------------------------------ |
| `-i` | 覆盖文件前提示 | 文件：$ `mv -i ~/Documents/read.txt ~/sql/`   目录：$ `mv -i ~/Documents/b ~/sql/`  重命名：$ `mv -i 原文件(夹)名 新文件(夹)名` |

##### 3.cp

cp 也很实用

> 1. 把源文件夹下的所有文件拷贝到目标文件夹中:                               cp -r /source/*  /dest/
> 2. 拷贝源文件夹下的多个文件到目标文件夹中:                         cp /source/{file1,file2,file3,file4}  /dest/  #逗号之后不能有空格
> 3. 拷贝多个文件和多个文件夹到目标文件夹中:                               cp -r file.txt dir1 file1.txt   /dest/   

实操：

 先进入所需拷贝文件所载地址，如：切换到桌面 命令输入为 cd 桌面
然后输入复制命令行 cp -r code.zip  /home/wgj/code
利用此方法可以复制文件夹，也可以复制文件，当复制文件夹的时候，不需要加后缀

####  #about 文件操作

##### 1.修改

| 命令            | 含义                        |
| --------------- | --------------------------- |
| `vim [+文件名]` | 以vim方式打开文件           |
| `i`             | 插入模式(Insert Mode)       |
| `Esc `          | 进入命令模式 (Command Mode) |
| `:q`            | 退出                        |
| `:wq `          | 保存并退出                  |
| `:q! `          | 强行退出                    |

##### 2.查看

| 命令                   | 对应英文    | 作用                                                 |
| ---------------------- | ----------- | ---------------------------------------------------- |
| `cat 文件名`           | concatenate | 查看文件内容、创建文件、文件合并、追加文件内容等功能 |
| `more 文件名`          | more        | 分屏显示文件内容                                     |
| `grep 搜索文本 文件名` | grep        | 搜索文本文件内容                                     |

###### 1.cat

`cat`:

1. 一次显示整个文件. $ cat filename 
2. 从键盘创建一个文件. $ cat > filename  只能创建新文件,不能编辑已有文件. 
3. 将几个文件合并为一个文件. $cat file1 file2 > file cat具体命令格式为 : cat [-AbeEnstTuv] [--help] [--version] fileName 说明:把档案串连接后传到基本输出

| cat 的参数 | 含义                     |
| ---------- | ------------------------ |
| -b         | 对除了空格外的所有行编号 |
| -n         | 所有行编号               |

> 合并两个文件是  cat file1 file2 > file3 
>
> **ps:** **这里要注意一个>是新建文件，并合并两个内容；>>是把file1和file2附加到file3中**

###### 2.more

使用 `more` 的操作键：

| 操作键   | 功能                 |
| -------- | -------------------- |
| 空格键   | 显示手册页的下一屏   |
| Enter 键 | 一次滚动手册页的一行 |
| b        | 回滚一屏             |
| f        | 前滚一屏             |
| q        | 退出                 |
| /word    | 搜索 **word** 字符串 |

##### 3.寻找

###### 1.find

> find 搜索路径 [选项] 搜索内容

-name: 按照文件名搜索；

-iname: 按照文件名搜索，不区分文件名大小；

#### #about 其他

##### 1.sudo

| 指令                      | 作用             |
| ------------------------- | ---------------- |
| sudo apt-get install name | 下载name对应的   |
| dpkg -s name              | 检查是否安装成功 |

##### 2.解压

1. tar

   > tar  -zxvf   压缩文件名.tar.gz

2. unzip

   > unzip 直接加解压对象

### 4.帮助

#### 1#   help

> 语法：`command --help`
> 例子：`mkdir --help`

#### 2#   man

>语法：`man command`
>例子：`man mkdir`

使用 `man` 时的操作键：

| 操作键   | 功能                 |
| -------- | -------------------- |
| 空格键   | 显示手册页的下一屏   |
| Enter 键 | 一次滚动手册页的一行 |
| b        | 回滚一屏             |
| f        | 前滚一屏             |
| q        | 退出                 |
| /word    | 搜索 word 字符串     |

### 补充

补充来自第二次联培作业

#### 1.chmod

> 语法： chmod mod file

权限

| 模式 | 说明       |
| ---- | ---------- |
| r    | 可读权限   |
| w    | 可写权限   |
| x    | 可执行权限 |

对象

| who  | 用户类型 | 说明         |
| ---- | -------- | ------------ |
| u    | user     | 文件持有者   |
| g    | group    | 持有者所在组 |
| o    | others   | 所以其他用户 |
| a    | all      | 所有用户     |

实例：

```
给文件所有者设置可读权限
chmod u+r test.txt
给文件所有者设置可写权限
chmod u+w test.txt
给文件所有者设置可读可写可执行权限
chomd u+rwx test.txt
```

#### 2.export

目前还没用过

#### 3.grep

很强大的一个指令吧(个人认为)

grep命令全局搜索文件中的正则表达式并打印满足表达式的所有行

```
lyk@LYKdiandong:~/lbwnb/about github/learngit(no remote res)$ grep and ./readme.txt 
Creating a new branch is quick and simple 
```

| 参数 | 功能     | 实例      | 匹配对象     |
| ---- | -------- | --------- | ------------ |
| ^    | 起始文本 | `'^love'` | 以love开头行 |
| $    | 结束文本 | `'love$'` | 以love结尾行 |

```
lyk@LYKdiandong:~/lbwnb/about github/learngit(no remote res)$ grep '^Git' ./readme.txt
Git is a distributed version control system.
Git is free software distributed under the GPL.
Git tracks change of files.
```

```
lyk@LYKdiandong:~/lbwnb/myfile/vacation rise/markdown$ grep convene English.md 
| convene      | 召开               | (.md 文件)
```



#### 4.exit

很简单就是退出终端

但是有的时候不订有用

`ctrl`+ `d`即可(其实更方便)

#### 5.top

查看内存，CPU，进程

```
实例实在太长了懒得放了
```

#### 6.ln

这是 [Linux](http://lib.csdn.net/base/linux)中一个非常重要命令，请大家一定要熟悉。它的功能是为某一个文件或目录在另外一个位置建立一个同步的链接，类似Windows下的超级链接

但是我还没用过，先放着

#### 7.touch

`touch [-acdmt] file ...`

| 参数 | 说明                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 修改文件的存取时间                                           |
| -c   | 仅修改文件时间，若文件不存在则不创建新文件。与 --no-create 的效果一样 |
| -m   | 改变修改时间mtime                                            |

* modification time （mtime）： 当该文件的“内容数据”变更时，就会更新这个时间。内容数据指的是文件的内容，而不是文件的属性或权限。

* status time （ctime）： 当该文件的“状态 （status）”改变时，就会更新这个时间，举例来说，像是权限与属性被更改了，都会更新这个时间。

* access time （atime）： 当“该文件的内容被取用”时，就会更新这个读取时间 （access）。举例来说，我们使用 cat 去读取 /etc/man_db.conf ， 就会更新该文件的 atime 了。

  md 还是不太东

  stat 文件名 ---查看访问是否更新